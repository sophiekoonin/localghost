(function($){$.fn.tweetHighlighted=function(options){var settings={},classes;options=options||{};settings.node=options.node||'<button type="button">Tweet</button>';settings.cssClass=options.cssClass||'tweet-me';settings.minLength=options.minLength||1;settings.maxLength=options.maxLength||144*4;settings.extra=options.extra||'';settings.via=options.via||null;settings.popupArgs=options.popArgs||'width=400,height=400,toolbar=0,location=0';settings.callback=options.callback||null;classes=settings.cssClass.split(' ').filter(function(item){return item.length;});settings._selector='.'+classes.join('.');var onTextSelect=function(selector,callback){function getSelectedText(){if(window.getSelection){return window.getSelection().toString();}else if(document.selection){return document.selection.createRange().text;}
return '';}
$(selector).mouseup(function(e){var text=getSelectedText();if(text!==''){callback(e,text);}});$(document).click(function(e){var text=getSelectedText();if(text!==''){e.stopPropagation();}else
$(settings._selector).fadeOut(500).remove();});};var getTweetURL=function(text,extra,via){var url='https://twitter.com/intent/tweet?text=';url+=encodeURIComponent(text);if(extra)url+=encodeURIComponent(' '+extra);if(via)url+='&via='+via;return url;};onTextSelect(this,function(e,text){var btnExists=$(settings._selector).length,url;if(btnExists||text.length>settings.maxLength||text.length<settings.minLength)
return;url=getTweetURL(text,settings.extra,settings.via);$(settings.node).addClass(settings.cssClass).offset({top:e.pageY,left:e.pageX}).css({position:'absolute',cursor:'pointer'}).appendTo('body').fadeIn(500).click(function(e){$(settings._selector).fadeOut(500).remove();window.open(url,'_blank',settings.popupArgs);if(settings.callback!=null){settings.callback(text);}});});};})(jQuery);$('body').tweetHighlighted({node:'<a href="#" class="tweet"><span class="fab fa-twitter"></span>  Tweet</a>',minLength:6,maxLength:240*2,via:'type__error',extra:document.URL,popupArgs:'width=600,height=600,toolbar=0,location=0'});